<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta name="copyright" content="" />
    <title>快乐回忆之QBASIC语言-五子棋篇 - 爱五子棋网</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GYD818NSR"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3GYD818NSR');
</script>
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ab552e08fa24fbf6504a1cabc7b5a150";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </head>
  <body><h1>快乐回忆之QBASIC语言-五子棋篇</h1><p><a href="../index.html">首页</a></p><p><a href="../forum/42.html">五子棋缘</a></p><hr></hr><b>#1 快乐回忆之QBASIC语言-五子棋篇 作者：有志青年 发表时间：2007-4-18 19:08:19</b><br></br>快乐回忆之QBASIC语言-五子棋篇。<br/><br/><br/>虽然早期BASIC语言运算速度慢、对硬件的可操作性不高、语法结构不严谨、图形化界面开发困难甚至面向过程都被很多人所诟病。但是，BASIC实在是一种很奇妙的计算机语言。因为它完全可以让你在最小化的负担的情况下去按照自己的意愿去编程。<br/>还记得是刚上初中的时候学习MS-DOS6.22，接触了系统自带的QBASIC，那时候就觉得这个是个很奇妙的东西。因为以前接触电脑都是玩一些电脑游戏，用WINDOWS3.1里面的画图软件涂鸦。而用QBASIC可以让计算机按照自己的意愿自动地工作，接触了BASIC语言以后触发了我对计算机处理的思考，并通过逐步的学习，也能自己写一些小游戏和小应用软件了。<br/>记得最早写的游戏是一个“石头、剪子、布”的猜拳游戏，由人跟电脑一起游戏，人这边选择即将出的拳，电脑则在随即函数（RND）的控制的随机的出拳，然后在屏幕上显示出胜负结果。这个游戏现在看来很“弱智”，代码也只有寥寥数十行。但是却是启蒙的好材料，因为这里让我学到了基本的人机交互、算法过程的处理、还有界面的应用。后来，随着接受的知识的不断增多，对图形绘制慢满的有了了解。就开始思考做其它的游戏。那时候五子棋在学校里面非常流行，因为没有专门的棋，大多数情况下都自己在一张白纸上画上格子当做棋盘，然后带上这张纸和一支笔就去找人挑战去了。于是产生了写五子棋游戏的想法。<br/>哪时候能操作上机的时候比较少，一个星期最多只有2节计算机课，还不一定能上机。所以程序的“算法”和源程序都是自己直接写在纸上的。刚开始，由于会的函数和语句都少，只好从一些常用语句的角度来考虑程序的流程。大概是这个样子的：<br/> 1 绘制棋盘（使用FOR循环加LINE语句） 很简单^_^<br/> 2 初始化黑子位置（黑子先行嘛）<br/> 3 显示操作的文字说明<br/> 4 截取键盘输入（利用INKEY$语句，截取上、下、左、右和功能键的输入）<br/> 5 按照相应的的按键触发程序段的跳转以实现各种功能（使用GOTO，方向键、功能键、落子）<br/> 6 返回到第4步<br/> 7 对按键进行响应，完成相应功能以后返回（略）<br/> 这个雏形，当时很快就写出来了，当然这个是非常不完善的，界面不好看，落子只是一个圈圈，不能够判断胜负，棋子可以被覆盖，只有一组操作键2个人一起玩的时候不方便（键盘退来退去的）。虽然程序很简陋，但是在学校机房里面还起了小小的影响。经常看到上计算机课的同学用这个在下五子棋。^_^<br/>过了几天学会了新的程序结构――数组，知道了嵌套式循环。于是，又自己想出了完善程序一些方法：<br/>关于五子棋的一些过程思想：<br/>1 关于能否落子的判断<br/> 我自己想的办法是利用数组引入坐标权值来记录该位置上的状态，如果权值为0则说明该位置还没有落子。<br/> 当然坐标的数字是比较大的，如果直接用坐标来当作数组，在BASIC里面容易溢出。当时自己想的办法是量化屏幕坐标系――棋盘的每<br/> 一格之间的坐标距离被作为量化的单位，这样一来即使是20*20的的棋盘也只用一个（20，20）的数组就可以了。（^_^，当时还没有接触互连网，学习资料是很匮乏的，能够独立想出这样的办法，心里面不免沾沾自喜。）<br/>2 关于按键判断<br/> 使用DO LOOP循环，或者WHILE甚至是GOTO 语句都可以完成，不停的最按键接受进行循环截取，一但按键是事先已经定义好的范围，则使用GOSUB来调用相应的子程序段。在按键判断里面学会了使用方向键，由此定义了两组操作按键，对应玩家1和玩家2。<br/>3 对胜负的判断<br/> 这个问题捆绕了我很久，开始想的是使用递推方法：即以当前落子位置为中心点开始，对8个方向上的棋子进行判断，如果下一颗棋子还跟当前棋子是同样的颜色（通过从坐标量化过来的数组，和数组的权值可以得到），则继续进入递推的下一次循环（从后来的接触和学习来看，这个是使用得比较多的办法）。不过这个算法却让我很头痛，因为写程序的时候很容易出错，8个方向上的判断写起来也非常烦琐。<br/>直到初中毕业，父母给自己买了电脑，有更多的时间来做这些，才有了新的思路。（^_^这也是早期让我引以为豪的地方，呵呵）<br/>因为我本身在判断落子的时候就使用了判断坐标数组的权值的方法，于是我想出了更便捷的算法，那就是当前落子点为基点，分别读取5组在某个方向上连续5颗旗子坐标的权值，并计算权值的和。如果权值为5则黑子胜，为50则为白子胜。因为在我的坐标权值里面1代表黑子，10代表白子，只要是达到了5子连珠的条件，那权值的和肯定是5或者是50，并且这样以来，8个方向的判断也被我简化为了4个方向^_^。哈哈，<br/>这个算法曾经让我得意了好久^_^。因为五子棋的胜负条件是五子连珠，就是说只要两中棋子的坐标量化后的权值的差异超过5倍。这个胜利条件的<hr></hr><b>#2 Re:快乐回忆之QBASIC语言-五子棋篇 作者：小丸.net 发表时间：2007-4-18 21:30:53</b><br></br><p>看到这些，不觉想当年。偶用QBASIC编了一个黑板板的设计软件。</p><hr></hr></body>
  <script src="../static/js/jquery.min.js"></script>
  <link href="../static/css/renjuboard.css" rel="stylesheet">
  <script src="../static/js/board.js"></script>
</html>