<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
    <meta name="keywords" content="爱五子棋网档案馆,爱五子棋网,五子棋,连珠,gomoku,renju,iwzq" />
    <meta name="description" content="爱五子棋网（iwzq.com）历史档案纪念馆" />
    <meta name="author" content="" />
    <meta name="copyright" content="" />
    <link href="../static/css/default.css" rel="stylesheet" type="text/css" />
    <title>c#写的五子棋程序，供学习WinForms的鼠标事件和使用GDI+(2) - 爱五子棋网档案馆</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GYD818NSR"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3GYD818NSR');
</script>
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ab552e08fa24fbf6504a1cabc7b5a150";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
  </head>
  <body>
    <div id="outer">
      <div id="header">
        <h1>
          <a href="../index.html">爱五子棋档案馆</a>
        </h1>
      </div>
      <div id="content">
        <div id="primaryContentContainer">
          <div id="primaryContent">
            <h2>c#写的五子棋程序，供学习WinForms的鼠标事件和使用GDI+(2)</h2>
            <p>
              <a href="../forum/43.html">五子棋软件</a>
            </p>
            <hr></hr>
            <p>
              <b>#1 c#写的五子棋程序，供学习WinForms的鼠标事件和使用GDI+(2)</b>
              <span style="float:right;">
                <b>作者：有志青年 发表时间：2007-4-14 21:58:20</b>
              </span>
            </p>
            <span>
              <p>原文地址：http://blog.sina.com.cn/kuang87929</p>
              <p><br/>if(chessTable[(y+i)*15+x+i] == thisTurn)<br/>{<br/>isFive.Push((y+i)*15+x+i);<br/>if(isFive.Count == 5)<br/>{<br/>MessageBox.Show("Game Over","Notes",MessageBox.OK);<br/>ReSetGame();<br/>return;<br/>}<br/>}<br/>else<br/>{<br/>isFive.Clear();<br/>}<br/>}<br/>}<br/>isFive.Clear();<br/>}<br/>private void ReSetGame()<br/>{<br/>//reset game<br/>nextTurn = bTurn;<br/>for(int i=0;i<br/>{<br/>chessTable<i> = 0;<br/>}<br/>this.Invalidate();<br/>}<br/>private int GetRectID(Point p)<br/>{<br/>//get witch rectangle click<br/>for(int i = 0;i <br/>{<br/>if(pointSquares<i>.Contains( p ))<br/>{<br/>return i;<br/>}<br/>}<br/>return -1;<br/>}<br/>private void OnRButtonDown(Point p)<br/>{<br/>//regret chess<br/>int nPos,x,y;<br/>if(chessIndex.Count != 0)<br/>{<br/>nPos = (int)chessIndex.Pop();<br/>x = nPos%15;<br/>y = nPos/15;<br/>chessTable[nPos] = 0;<br/>nextTurn = (int)chessIndex.Pop();<br/>this.Invalidate(new Rectangle(new Point(8+x*20,5+y*20),new Size(20,20)));<br/>}<br/>}<br/>private void DrawBlack(Graphics g,int nPos)<br/>{<br/>//draw Black chess<br/>int x,y;<br/>x = nPos%15;<br/>y = nPos/15;<br/>imageListbw.DrawImage(g,8+20*x,5+20*y,20,20,0,0);<br/>}<br/>private void DrawWhite(Graphics g,int nPos)<br/>{<br/>//draw White chess<br/>int x,y;<br/>x = nPos%15;<br/>y = nPos/15;<br/>imageListbw.DrawImage(g,8+20*x,5+20*y,20,20,0,1);<br/>}<br/>/// <br/>/// Clean up any resources being used.<br/>/// <br/>public override void Dispose()<br/>{<br/>base.Dispose();<br/>components.Dispose();<br/>}<br/>/// <br/>/// Required method for Designer support - do not modify<br/>/// the contents of this method with the code editor.<br/>/// <br/>private void InitializeComponent()<br/>{<br/>System.Resources.ResourceManager resources = new System.Resources.ResourceManager (typeof(FiveForm));<br/>this.components = new System.ComponentModel.Container ();<br/>this.imageListbw = new System.WinForms.ImageList ();<br/><a>//@this.TrayHeight</a> = 90;<br/><a>//@this.TrayLargeIcon</a> = false;<br/><a>//@this.TrayAutoArrange</a> = true;<br/><a>//@imageListbw.SetLocation</a> (new System.Drawing.Point (7, 7));<br/>imageListbw.ImageSize = new System.Drawing.Size (20, 20);<br/>imageListbw.ImageStream = (System.WinForms.ImageListStreamer) resources.GetObject ("imageListbw.ImageStream");<br/>imageListbw.ColorDepth = System.WinForms.ColorDepth.Depth8Bit;<br/>imageListbw.TransparentColor = System.Drawing.Color.Yellow;<br/>this.Text = "FiveForm";<br/>this.MaximizeBox = false;<br/>this.AutoScaleBaseSize = new System.Drawing.Size (6, 14);<br/>this.BorderStyle = System.WinForms.FormBorderStyle.FixedSingle;<br/>this.BackgroundImage = (System.Drawing.Image) resources.GetObject ("$this.BackgroundImage");<br/>this.TransparencyKey = System.Drawing.Color.White;<br/>this.ClientSize = new System.Drawing.Size (314, 311);<br/>}<br/>/// <br/>/// The main entry point for the application.<br/>/// <br/>public static int Main(string[] args)<br/>{<br/>Application.Run(new FiveForm());<br/>return 0;<br/>}<br/>}<br/>}</i></i></p>
            </span>
            <hr></hr>
          </div>
        </div>
        <div class="clear"></div>
      </div>
      <div id="footer">
        <p>爱五子棋网（iwzq.com）2006-2014年历史档案资料</p>
      </div>
    </div>
  </body>
  <script src="../static/js/jquery.min.js"></script>
  <link href="../static/css/renjuboard.css" rel="stylesheet">
  <script src="../static/js/board.js"></script>
</html>